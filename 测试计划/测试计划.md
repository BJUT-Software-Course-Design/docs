# 5.2. 测试计划

## 5.2.1. 测试条件

测试资源需求包括：

- **硬件设备**:
  - 服务器: 阿里云
  - 客户端计算机: 多台运行Windows、macOS的计算机，以覆盖不同用户环境。
- **软件**:
  - 操作系统: Windows/macOS
  - 数据库: PostgreSQL,Redis
  - 浏览器: Chorme,IE
- **人员**:
  - 测试(负责设计和执行测试用例):何泽民
  - 开发(负责系统开发和bug修复)：其余组员

## 5.2.2. 测试方案设计

![测试案例功能图](../images/测试案例生成概述.png)
测试方法和用例设计如下：

### 5.2.2.1. 单元测试

**目标**: 验证系统中每个独立模块的功能。

**工具**: 手动

**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                 | 测试数据                                                      | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|----------------------------------------------------------------------|-------------------------------------------------------------|---------------------------------------------|
| UT-F1-001    | 用户注册 - 正常情况         | 用户管理模块   | P0     | 系统正常运行       | 1. 打开注册页面<br>2. 输入正确的用户名、密码、邮箱和角色<br>3. 点击注册按钮 | 用户名：testuser<br>密码：Test@123<br>邮箱：testuser@example.com<br>角色：普通用户 | 用户成功注册，进入登录页面                   |
| UT-F1-002    | 用户注册 - 用户名已存在     | 用户管理模块   | P1     | 系统中已有相同用户名 | 1. 打开注册页面<br>2. 输入已存在的用户名、正确的密码、邮箱和角色<br>3. 点击注册按钮 | 用户名：existuser<br>密码：Test@123<br>邮箱：testuser2@example.com<br>角色：普通用户 | 显示错误信息“用户名已存在”                    |
| UT-F1-003    | 用户登录 - 正常情况         | 用户管理模块   | P0     | 用户已注册成功       | 1. 打开登录页面<br>2. 输入正确的用户名和密码<br>3. 点击登录按钮         | 用户名：testuser<br>密码：Test@123                          | 用户成功登录，进入主页                       |
| UT-F1-004    | 用户登录 - 错误密码         | 用户管理模块   | P2     | 用户已注册成功       | 1. 打开登录页面<br>2. 输入正确的用户名和错误的密码<br>3. 点击登录按钮   | 用户名：testuser<br>密码：WrongPass123                      | 显示错误信息“用户名或密码错误”                 |
| UT-F1-005    | 用户登录 - 多次错误登录尝试  | 用户管理模块   | P1     | 用户已注册成功       | 1. 连续5次输入错误的用户名或密码尝试登录                          | 用户名：testuser<br>密码：WrongPass123                      | 显示信息“账户被暂时锁定，请稍后再试”              |
| UT-F1-006    | 权限控制 - 管理员访问       | 用户管理模块   | P0     | 用户具有管理员角色   | 1. 登录管理员账户<br>2. 访问系统管理功能模块                       | 用户名：adminuser<br>密码：Admin@123                         | 成功访问系统管理功能模块                      |
| UT-F1-007    | 权限控制 - 普通用户访问     | 用户管理模块   | P2     | 用户具有普通用户角色 | 1. 登录普通用户账户<br>2. 尝试访问管理员功能模块                    | 用户名：commonuser<br>密码：Common@123                      | 显示权限不足的错误信息                        |

**性能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                 | 测试数据                       | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|--------------------------------------------------------------------------------------|-------------------------------|---------------------------------------------|
| UT-P1-001    | 用户登录 - 高频调用         | 用户管理模块   | P0     | 系统正常运行       | 1. 在10秒内连续多次调用用户登录函数                                                     | 用户名：testuser<br>密码：Test@123        | 平均响应时间不超过设定的阈值                  |
| UT-P1-002    | 提交代码 - 高频调用         | 提交代码模块   | P0     | 系统正常运行       | 1. 在10秒内连续多次调用提交代码函数                                                     | 代码内容：`print("Hello World")`          | 系统资源使用情况在合理范围内，平均响应时间不超过设定的阈值 |
| UT-P1-003    | 题目浏览 - 高频调用         | 题目管理模块   | P1     | 系统正常运行       | 1. 在10秒内连续多次调用题目浏览函数                                                     | 无                               | 系统不会出现响应缓慢或崩溃情况                 |

## 5.2.2.2. 集成测试

**目标**: 验证各模块之间的交互是否正确。

**工具**: 手动

**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                                                       | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|--------------------------------------------------------------|---------------------------------------------|
| IT-F1-001    | 用户提交代码后的评测流程    | 用户管理模块, 评测模块 | P0     | 用户已登录并提交代码   | 1. 用户登录<br>2. 用户提交代码<br>3. 系统开始评测                                           | 用户名：testuser<br>密码：Test@123<br>代码：`print("Hello World")` | 用户可以在提交页面查看评测结果，显示正确输出     |
| IT-F1-002    | 数据库操作的完整性和一致性  | 用户管理模块, 数据库模块 | P0     | 系统正常运行         | 1. 新增用户<br>2. 更新用户信息<br>3. 删除用户                                            | 用户名：testuser<br>邮箱：testuser@example.com                | 数据库中的用户数据保持一致性和完整性             |

**性能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                       | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-------------------------------|---------------------------------------------|
| IT-P1-001    | 评测流程的高并发测试        | 评测模块         | P0     | 系统正常运行         | 1. 在短时间内模拟大量用户同时提交代码                                                      | 代码内容：`print("Hello World")`          | 系统能够处理高并发请求，评测结果准确且在合理时间内返回 |
| IT-P1-002    | 数据库操作的高并发测试      | 数据库模块       | P1     | 系统正常运行         | 1. 在短时间内模拟大量用户同时进行数据库操作                                                | 用户数据：随机生成的数据                   | 数据库操作能够在高并发情况下保持一致性和完整性       |

## 5.2.2.3. 系统测试

**目标**: 验证系统在整合所有模块后是否按预期工作。

**工具**: Selenium,手动

**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                                                  | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|---------------------------------------------------------|---------------------------------------------|
| ST-F1-001    | 用户登录 - 全流程           | 系统测试         | P0     | 用户已注册成功       | 1. 打开登录页面<br>2. 输入正确的用户名和密码<br>3. 点击登录按钮                              | 用户名：testuser<br>密码：Test@123                      | 用户成功登录，进入主页                        |
| ST-F1-002    | 管理员管理用户和题目        | 系统测试         | P1     | 管理员账户已存在       | 1. 管理员登录<br>2. 管理员新增用户<br>3. 管理员新增题目                                   | 用户名：adminuser<br>密码：Admin@123                     | 成功新增用户和题目，用户和题目数据正确显示在系统中 |
| ST-F1-003    | 用户提交代码评测 - 全流程     | 系统测试         | P0     | 用户已登录           | 1. 用户登录<br>2. 用户选择题目并提交代码<br>3. 系统评测代码并返回结果                        | 用户名：testuser<br>代码：`print("Hello World")`        | 用户可以查看评测结果，显示正确的输出            |

**性能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                       | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-------------------------------|---------------------------------------------|
| ST-P1-001    | 用户登录 - 高并发测试       | 系统测试         | P0     | 系统正常运行         | 1. 在短时间内模拟大量用户同时登录                                                          | 用户名：随机生成的用户名<br>密码：随机生成的密码 | 系统能够处理高并发登录请求，平均响应时间在合理范围内 |
| ST-P1-002    | 提交代码评测 - 高并发测试   | 系统测试         | P0     | 系统正常运行         | 1. 在短时间内模拟大量用户同时提交代码                                                      | 代码内容：`print("Hello World")`          | 系统能够处理高并发的代码提交请求，评测结果准确且在合理时间内返回 |

## 5.2.2.4. 性能测试

**目标**: 测试系统在高负载下的表现。

**工具**: 手动
**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                                                      | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-------------------------------------------------------------|---------------------------------------------|
| PT-F1-001    | 用户登录 - 高负载测试       | 系统性能测试     | P0     | 系统正常运行         | 1. 在高负载条件下连续多次模拟用户登录                                                      | 用户名：随机生成的用户名<br>密码：随机生成的密码                | 系统能够在高负载条件下处理登录请求，响应时间在合理范围内 |
| PT-F1-002    | 提交代码评测 - 高负载测试   | 系统性能测试     | P0     | 系统正常运行         | 1. 在高负载条件下连续多次模拟用户提交代码                                                  | 代码内容：`print("Hello World")`                            | 系统能够在高负载条件下处理代码提交请求，评测结果准确且在合理时间内返回 |

## 5.2.2.5. 回归测试

**目标**: 确保在系统修改或升级后，原有功能仍然正常。

**工具**: Selenium，手动

**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                          | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-----------------------------------|---------------------------------------------|
| RT-F1-001    | 重新运行所有功能测试用例     | 回归测试         | P0     | 系统更新或修改       | 1. 在系统更新或修改后，重新运行所有功能测试用例                                             | 无                                 | 所有功能测试用例均能通过，系统正常运行         |
| RT-F1-002    | 检查更新部分的兼容性         | 回归测试         | P0     | 系统更新或修改       | 1. 在系统更新或修改后，重点测试更新或修改的部分与现有系统的兼容性                           | 更新或修改的功能模块数据            | 更新或修改的部分能够与现有系统正常集成和交互  |

**性能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                          | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-----------------------------------|---------------------------------------------|
| RT-P1-001    | 高负载条件下的系统稳定性     | 回归测试         | P0     | 系统更新或修改       | 1. 在系统更新或修改后，模拟高负载条件下的系统运行                                            | 无                                 | 系统能够在高负载条件下保持稳定运行            |
| RT-P1-002    | 高并发条件下的系统响应时间   | 回归测试         | P0     | 系统更新或修改       | 1. 在系统更新或修改后，模拟高并发条件下的系统操作                                            | 无                                 | 系统在高并发条件下的响应时间在合理范围内       |

## 5.2.2.6. 用户接受测试

**目标**: 验证系统是否满足最终用户的需求和期望。

**工具**: 实际用户:小组成员，组外成员

**功能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                          | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-----------------------------------|---------------------------------------------|
| UAT-F1-001   | 实际操作反馈                | 用户接受测试     | P0     | 系统准备就绪         | 1. 邀请实际用户进行系统操作<br>2. 记录用户操作中的所有问题和建议                              | 无                                 | 收集到的用户反馈可以帮助改进系统设计和功能   |
| UAT-F1-002   | 用户需求验证                | 用户接受测试     | P0     | 系统准备就绪         | 1. 邀请实际用户根据需求清单进行系统操作<br>2. 检查系统是否满足用户需求                            | 无                                 | 系统能够满足用户需求清单中的所有需求         |

**性能测试**:

| 用例编号      | 用例标题                  | 模块/项目      | 优先级 | 前置条件           | 测试步骤                                                                                     | 测试数据                          | 预期结果                                     |
|--------------|---------------------------|---------------|--------|--------------------|------------------------------------------------------------------------------------------|-----------------------------------|---------------------------------------------|
| UAT-P1-001   | 用户体验下的系统响应速度     | 用户接受测试     | P0     | 系统准备就绪         | 1. 邀请实际用户在正常操作下测试系统响应速度<br>2. 记录用户体验中的响应时间                      | 无                                 | 用户体验到的系统响应速度在合理范围内         |
| UAT-P1-002   | 用户体验下的系统稳定性       | 用户接受测试     | P0     | 系统准备就绪         | 1. 邀请实际用户在长时间操作下测试系统稳定性<br>2. 记录用户在长时间操作中的稳定性反馈            | 无                                 | 用户体验到的系统稳定性在合理范围内           |